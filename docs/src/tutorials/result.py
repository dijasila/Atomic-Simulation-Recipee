from asr.core import ASRResult, set_docstring
from asr.database.webpanel import WebPanel
import typing


def webpanel(result, row, key_descriptions):
    prop_table = {'type': 'table',
                  'header': ['Property', 'value'],
                  'rows': [['energy', result.energy]]}

    return [
        WebPanel(title='Title of my webpanel',
                 columns=[[prop_table], []])
    ]


@set_docstring
class Result(ASRResult):
    """My results object.

    This results object is generated by yadayada.
    """

    energy: float
    forces: typing.List[typing.tuple[float, float, float]]

    key_descriptions = dict(
        energy='The energy of the material.',
        forces='The forces on the atoms of the material.',
    )

    formats = {'ase_webpanel': webpanel}
